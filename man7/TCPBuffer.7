.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/local/tcpbuffer.hh:7'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "TCPBUFFER" 7click "12/Oct/2017" "Click"
.SH "NAME"
TCPBuffer \- Click element;
buffer TCP packets
.SH "SYNOPSIS"
\fBTCPBuffer\fR([SKIP])

\fBPorts\fR: 1 input, 1 output
.br
\fBProcessing\fR: push inputs, pull outputs
.br
.SH "DESCRIPTION"
provides in order TCP buffer. expects TCP packets on input.
.PP
packets arriving at the input push port are inserted into a linked list,
sorted increasingly on the tcp sequence number. packets with a sequence
number already on the list will be dropped.
.PP
packets are pulled out of \fBTCPBuffer\fR. pull will return packets in order. if
SKIP is false, and there is a packet missing in the middle of a sequence,
\fBTCPBuffer\fR will return 0 until that packet arrives. SKIP is false by
default. setting SKIP to true allow puller to skip missing packets, but
still get packets in order.
.PP
if a packet arrives at \fBTCPBuffer\fR, but it's sequence number is smaller than
that of the first packet on the linked list, the packet is deleted. in this
case, \fBTCPBuffer\fR assumes the packet is either a retransmit (if SKIP is
false) or the puller is no longer interested in it (if SKIP is true).
.PP
the first packet arrives at \fBTCPBuffer\fR gets to set the initial sequence
number. it is expected that this packet will be either a SYN or a SYN ACK
packet.
.PP
TODO
.nf
\& prevent packets with bad seq number range from corrupting queue;
\& should reject packets with overlaping seq number range
.fi
.PP


