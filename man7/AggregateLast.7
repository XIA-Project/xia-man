.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/analysis/aggregatelast.hh:8'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "AGGREGATELAST" 7click "12/Oct/2017" "Click"
.SH "NAME"
AggregateLast \- Click element;
lets through last packet per aggregate annotation
.SH "SYNOPSIS"
\fBAggregateLast\fR([\fIKEYWORDS\fR])

\fBPorts\fR: 1 input, 1-2 outputs
.br
\fBProcessing\fR: push
.br
\fBDrivers\fR: userlevel
.br
.SH "DESCRIPTION"
\fBAggregateLast\fR forwards only the final packet with a given aggregate annotation
value. All previous packets with that aggregate annotation are emitted on the
second output, if it exists, or dropped if it does not.
.PP
The output packet will have EXTRA_PACKETS_ANNO, EXTRA_LENGTH_ANNO, and
FIRST_TIMESTAMP_ANNO set to the values reflecting the total volume of the
aggregate.
.PP
Keyword arguments are:
.PP


.IP "NOTIFIER" 8
The name of an AggregateNotifier element, like 
.M AggregateIPFlows 7 .
If given,
then \fBAggregateLast\fR will output a packet when the AggregateNotifier informs it
that the packet's aggregate is complete. This can save significant memory on
long traces.
.IP "" 8
.IP "STOP_AFTER_CLEAR" 8
Boolean. If true, then stop the router after the 'clear' handler is called and
completes. Default is false.
.IP "" 8
.PP

.SH "ELEMENT HANDLERS"



.IP "\fBclear\fR (write-only)" 5
When written, \fBAggregateLast\fR will output every packet it has stored and clear
its tables. This is the only time \fBAggregateLast\fR will emit packets if NOTIFIER
was not set.
.IP "" 5
.PP

.SH "NOTES"
.M AggregateFirst 7
forwards the the first packet with a given aggregate annotation
value, rather than the last packet. It has significantly smaller memory
requirements than \fBAggregateLast\fR.
.PP
Only available in user-level processes.
.PP

.SH "SEE ALSO"
.M AggregateFirst 7 ,
.M AggregateIP 7 ,
.M AggregateIPFlows 7 ,
.M AggregateCounter 7 ,
.M AggregateFilter 7

