.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/linuxmodule/polldevice.hh:4'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "POLLDEVICE" 7click "12/Oct/2017" "Click"
.SH "NAME"
PollDevice \- Click element;
polls packets from network device (kernel)
.SH "SYNOPSIS"
\fBPollDevice\fR(DEVNAME [, \fIkeywords\fR PROMISC, BURST, TIMESTAMP...])

\fBPorts\fR: no inputs, 1 output
.br
\fBProcessing\fR: push
.br
\fBDrivers\fR: linuxmodule
.br
.SH "DESCRIPTION"
Poll packets received by the Linux network interface named DEVNAME. Packets
will be pushed to output 0. The packets include the link-level header. DEVNAME
may also be an Ethernet address, in which case \fBPollDevice\fR searches for a
device with that address.
.PP
Each time \fBPollDevice\fR is scheduled, it emits at most BURST packets. By default,
BURST is 8.
.PP
This element is only available in the Linux kernel module.
.PP
Keyword arguments are:
.PP


.IP "PROMISC" 8
Boolean.  If true, the device is put into promiscuous mode while 
.M FromDevice 7
is
active.  Default is false.
.IP "" 8
.IP "BURST" 8
Unsigned integer.  Sets the BURST parameter.
.IP "" 8
.IP "TIMESTAMP" 8
Boolean.  If true, then ensure that received packets have correctly-set
timestamp annotations.  Default is true.
.IP "" 8
.IP "QUIET" 8
Boolean.  If true, then suppress device up/down messages.  Default is false.
.IP "" 8
.IP "HEADROOM" 8
Unsigned.  Amount of extra headroom to request on each packet.  Default is 64.
.IP "" 8
.IP "LENGTH" 8
Unsigned integer.  Sets the minimum size requested for packet buffers.  Should
be at least as large as your interface's MTU; some cards require even more
data than that.  Defaults to a number derived from the driver, which is
usually the right answer.
.IP "" 8
.IP "ALLOW_NONEXISTENT" 8
Allow nonexistent devices. If true, and no device named DEVNAME exists when
the router is initialized, then \fBPollDevice\fR will report a warning (rather than
an error). Later, while the router is running, if a device named DEVNAME
appears, \fBPollDevice\fR will seamlessly begin emitting its packets. Default is
false.
.IP "" 8
.IP "UP_CALL" 8
Write handler.  If supplied, this handler is called when the device or link
comes up.
.IP "" 8
.IP "DOWN_CALL" 8
Write handler.  If supplied, this handler is called when the device or link
goes down.
.IP "" 8
.PP

.SH "NOTES"
Linux won't see any packets from the device. If you want Linux to process
packets, you should hand them to 
.M ToHost 7 .
Also, if you would like to send
packets while using \fBPollDevice\fR, you should also define a 
.M ToDevice 7
on the same
device.
.PP
This element can only be used with devices that support the Click polling
extension. We have written polling patches for the Tulip Ethernet driver.
.PP
Linux device drivers, and thus 
.M FromDevice 7 ,
should set packets' timestamp,
packet-type, and device annotations.
.PP

.SH "ELEMENT HANDLERS"



.IP "\fBcount\fR (read-only)" 5
Returns the number of packets \fBPollDevice\fR has received from the input card.
.IP "" 5
.IP "\fBreset_counts\fR (write-only)" 5
Resets \f(CWcount\fR counter to zero when written.
.IP "" 5
.PP

.SH "SEE ALSO"
.M FromDevice 7 ,
.M ToDevice 7 ,
.M FromHost 7 ,
.M ToHost 7

