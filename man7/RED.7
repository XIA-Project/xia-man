.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/aqm/red.hh:9'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "RED" 7click "12/Oct/2017" "Click"
.SH "NAME"
RED \- Click element;
drops packets according to RED
.SH "SYNOPSIS"
\fBRED\fR(MIN_THRESH, MAX_THRESH, MAX_P [, \fIKEYWORDS\fR])

\fBPorts\fR: 1 input, 1-2 outputs
.br
\fBProcessing\fR: agnostic, but output 1 is push
.br
.SH "DESCRIPTION"
Implements the Random Early Detection packet dropping
algorithm.
.PP
A \fBRED\fR element is associated with one or more Storage elements (usually
Queues). It maintains a running average of the sum of the queue lengths, and
marks packets with a probability proportional to that sum. By default, the
Queues are found with flow-based router context. If the \fBRED\fR is a push element,
it uses the nearest downstream Queues; if it is a pull element, it uses the
nearest upstream Queues.
.PP
Marked packets are dropped, or emitted on output 1 if \fBRED\fR has two output
ports.
.PP
Arguments are:
.PP


.IP "MIN_THRESH" 8
Integer.  When the average queue length less than or equal to MIN_THRESH,
input packets are never marked.
.IP "" 8
.IP "MAX_THRESH" 8
Integer; must be greater than or equal to MIN_THRESH.  When the average queue
length equals MAX_THRESH, input packets are marked with probability MAX_P.
When the average queue length is between MIN_THRESH and MAX_THRESH, input
packets are marked with probability linearly varying from 0 to MAX_P.  For
behavior above MAX_THRESH, see the SIMPLE argument.
.IP "" 8
.IP "MAX_P" 8
Real number between 0 and 1.  The probability of dropping a packet if the
average queue length equals MAX_THRESH.
.IP "" 8
.IP "QUEUES" 8
This argument is a space-separated list of Storage element names. \fBRED\fR will use
those elements' queue lengths, rather than any elements found via flow-based
router context.
.IP "" 8
.IP "STABILITY" 8
Unsigned. This number determines how stable the average queue size is -- that
is, how quickly it changes due to fluctuations in the instantaneous queue
size. Higher numbers mean more stability. The corresponding conventional \fBRED\fR
parameter is w_q; STABILITY equals -log_2(w_q).
.IP "" 8
STABILITY should equal
.IP "" 8
.nf
\&   -log_2 (1 - e^(-1/K)),
.fi
.IP "" 8
where K is the link bandwidth in packets per second. Default STABILITY is 4.
This is very low (unstable) for most purposes; it corresponds to a link
bandwidth of roughly 15 packets per second, or a w_q of 0.25. The NS default
setting for w_q is 0.002, corresponding to a STABILITY of roughly 9.
.IP "" 8
A STABILITY of 0 means always use the instantaneous queue length.
.IP "" 8

.IP "GENTLE" 8
Boolean.  If true (the default), implement the Gentle RED variant first
proposed by Sally Floyd in October 1997.  In this variant, when the average
queue length is between MAX_THRESH and 2*MAX_THRESH, input packets are dropped
with probability linearly varying from MAX_P to 100%; at lengths above
2*MAX_THRESH all packets are dropped.  If GENTLE is false, then at lengths
above MAX_THRESH all packets are dropped.
.IP "" 8
.PP

.SH "EXAMPLES"

.nf
\&  ... -> RED(5, 50, 0.02) -> Queue(200) -> ...
.fi
.PP



.SH "ELEMENT HANDLERS"



.IP "\fBmin_thresh\fR (read/write)" 5
Returns or sets the MIN_THRESH configuration parameter.
.IP "" 5
.IP "\fBmax_thresh\fR (read/write)" 5
Returns or sets the MAX_THRESH configuration parameter.
.IP "" 5
.IP "\fBmax_p\fR (read/write)" 5
Returns or sets the MAX_P configuration parameter.
.IP "" 5
.IP "\fBdrops\fR (read-only)" 5
Returns the number of packets dropped so far.
.IP "" 5
.IP "\fBqueues\fR (read-only)" 5
Returns the Queues associated with this \fBRED\fR element, listed one per line.
.IP "" 5
.IP "\fBavg_queue_size\fR (read-only)" 5
Returns the current average queue size.
.IP "" 5
.IP "\fBstats\fR (read-only)" 5
Returns some human-readable statistics.
.IP "" 5
.PP

.SH "SEE ALSO"
.M AdaptiveRED 7 ,
.M Queue 7
.PP
Sally Floyd and Van Jacobson. \fIRandom Early Detection Gateways for
Congestion Avoidance\fR. ACM Transactions on Networking, \fB1\fR(4), August
1993, pp 397-413.
.PP
Sally Floyd. "Optimum functions for computing the drop
probability", October 1997. \fBhttp://www.icir.org/floyd/REDfunc.txt\fR.

