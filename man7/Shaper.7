.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/standard/shaper.hh:8'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "SHAPER" 7click "12/Oct/2017" "Click"
.SH "NAME"
Shaper \- Click element;
shapes traffic to maximum rate (pkt/s)
.SH "SYNOPSIS"
\fBShaper\fR(RATE)

\fBPorts\fR: 1 input, 1-2 outputs
.br
\fBProcessing\fR: Pull
.br
.SH "DESCRIPTION"
\fBShaper\fR is a pull element that allows a maximum of RATE packets per second
to pass through. That is, traffic is shaped to RATE packets per
second. \fBShaper\fR is dependent on the timing of its pull requests; if it
receives only sporadic pull requests, then it will emit packets only
sporadically. However, if it receives a large number of evenly-spaced pull
requests, then it will emit packets at the specified RATE with low
burstiness.
.PP
Pull requests on optional output port 1 return packets that do not meet the
shaping condition at the time of the pull. Use with care: packets are now
pulled from upstream without shaping.  (This is different from
.M RatedSplitter 7 ,
whose optional output port 1 emits packets that would
otherwise just have been dropped.) Port 1 can be useful for sampling in
pull context, as in the example below.
.PP

.SH "NOTES"
\fBShaper\fR cannot implement every rate smoothly. For example, it can smoothly
generate 1000000 packets per second and 1000244 packets per second, but not
rates in between. (In-between rates will result in minor burstiness.) This
granularity issue is negligible at low rates, and becomes serious at very
high rates; for example, \fBShaper\fR cannot smoothly implement any rate between
2.048e10 and 4.096e10 packets per second.
.PP

.SH "EXAMPLES"

.nf
\& Rate limited printing in pull context:
\& ..
\& -> Shaper(10)
\& => ( [0] -> Print -> [0];
\& [1] -> [1] )
\& => RoundRobinSched
\& -> ..
.fi
.PP



.SH "ELEMENT HANDLERS"



.IP "\fBrate\fR (read/write)" 5
Returns or sets the RATE parameter.
.IP "" 5
.PP

.SH "SEE ALSO"
.M BandwidthShaper 7 ,
.M RatedSplitter 7 ,
.M RatedUnqueue 7

