.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/standard/mixedqueue.hh:7'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "MIXEDQUEUE" 7click "12/Oct/2017" "Click"
.SH "NAME"
MixedQueue \- Click element;
stores packets in a FIFO/LIFO queue
.SH "SYNOPSIS"
MixedQueue
.br
\fBMixedQueue\fR(CAPACITY)

\fBPorts\fR: 2 inputs, 1-2 outputs
.br
.SH "DESCRIPTION"
Stores incoming packets in a mixed first-in-first-out/last-in-first-out queue.
In particular, \fBMixedQueue\fR's first input is FIFO, but its second input is LIFO.
The queue is full when it holds CAPACITY packets. When full, \fBMixedQueue\fR drops
incoming FIFO packets, but drops the oldest packet to make room for incoming
LIFO packets. The default for CAPACITY is 1000.
.PP
\fBMixedQueue\fR notifies interested parties when it becomes empty and when a
formerly-empty queue receives a packet. The empty notification takes place
some time after the queue goes empty, to prevent thrashing for queues that
hover around 1 or 2 packets long.
.PP

.SH "EXAMPLES"
This diagram shows the state of a \fBMixedQueue\fR after 5 pushes, of packets A
through E. The queue's head is on the left.
.PP
.nf
\&     initial state        empty
\&     push(0, A)           [A]
\&     push(0, B)           [A B]
\&     push(1, C)           [C A B]
\&     push(0, D)           [C A B D]
\&     push(1, E)           [E C A B D]
.fi
.PP



.SH "SYNCHRONIZATION"
Note for multithreaded Click: Unlike 
.M Queue 7 ,
whose input and output ports need
not be synchronized, \fBMixedQueue\fR requires synchronization between its LIFO
input and its output. You will need to prevent a thread from pushing to the
LIFO input at the same time that a different thread pulls from the output.
.PP

.SH "ELEMENT HANDLERS"



.IP "\fBlength\fR (read-only)" 5
Returns the current number of packets in the queue.
.IP "" 5
.IP "\fBhighwater_length\fR (read-only)" 5
Returns the maximum number of packets that have ever been in the queue at once.
.IP "" 5
.IP "\fBcapacity\fR (read/write)" 5
Returns or sets the queue's capacity.
.IP "" 5
.IP "\fBdrops\fR (read-only)" 5
Returns the number of packets dropped by the queue so far.
.IP "" 5
.IP "\fBreset_counts\fR (write-only)" 5
When written, resets the \f(CWdrops\fR and \f(CWhighwater_length\fR counters.
.IP "" 5
.IP "\fBreset\fR (write-only)" 5
When written, drops all packets in the queue.
.IP "" 5
.PP

.SH "SEE ALSO"
.M Queue 7 ,
.M SimpleQueue 7 ,
.M FrontDropQueue 7

