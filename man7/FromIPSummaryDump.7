.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/analysis/fromipsumdump.hh:13'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "FROMIPSUMMARYDUMP" 7click "12/Oct/2017" "Click"
.SH "NAME"
FromIPSummaryDump \- Click element;
reads packets from an IP summary dump file
.SH "SYNOPSIS"
\fBFromIPSummaryDump\fR(FILENAME [, \fIkeywords\fR STOP, TIMING, ACTIVE, ZERO, CHECKSUM, PROTO, MULTIPACKET, SAMPLE, FIELDS, FLOWID, DATA])

\fBPorts\fR: no inputs, 1 output
.br
\fBProcessing\fR: agnostic
.br
\fBDrivers\fR: userlevel
.br
.SH "DESCRIPTION"
Reads IP packet descriptors from a file produced by 
.M ToIPSummaryDump 7 ,
then
creates packets containing info from the descriptors and pushes them out the
output. Optionally stops the driver when there are no more packets.
.PP
The file may be compressed with gzip(1) or bzip2(1); \fBFromIPSummaryDump\fR will
run zcat(1) or bzcat(1) to uncompress it.
.PP
\fBFromIPSummaryDump\fR reads from the file named FILENAME unless FILENAME is a
single dash '\f(CW-\fR', in which case it reads from the standard input. It will
not uncompress the standard input, however.
.PP
Keyword arguments are:
.PP


.IP "STOP" 8
Boolean. If true, then \fBFromIPSummaryDump\fR will ask the router to stop when it
is done reading. Default is false.
.IP "" 8
.IP "TIMING" 8
Boolean. If true, then \fBFromIPSummaryDump\fR tries to maintain the timing of the
original packet stream. The first packet is emitted immediately; thereafter,
\fBFromIPSummaryDump\fR maintains the delays between packets. Default is false.
.IP "" 8
.IP "ACTIVE" 8
Boolean. If false, then \fBFromIPSummaryDump\fR will not emit packets (until the
\&'\f(CWactive\fR' handler is written). Default is true.
.IP "" 8
.IP "ZERO" 8
Boolean. Determines the contents of packet data not set by the dump. If true
(the default), this data is zero. If false, it is random garbage.
.IP "" 8
.IP "CHECKSUM" 8
Boolean. If true, then output packets' IP, TCP, and UDP checksums are set, and
have actual data bytes covering the entire IP length (whether or not those
data bytes were defined). If false (the default), then the checksum fields
contain random garbage, and output packets may be shorter than their IP
headers' length fields (the EXTRA_LENGTH annotation is set to account for the
difference).
.IP "" 8
.IP "PROTO" 8
Byte (0-255). Sets the IP protocol used for output packets when the dump
doesn't specify a protocol. Default is 6 (TCP).
.IP "" 8
.IP "MULTIPACKET" 8
Boolean. If true, then \fBFromIPSummaryDump\fR will emit multiple packets for each
line---specifically, it will emit as many packets as the packet count field
specifies. Default is false.
.IP "" 8
.IP "SAMPLE" 8
Unsigned real number between 0 and 1. \fBFromIPSummaryDump\fR will output each
packet with probability SAMPLE. Default is 1. \fBFromIPSummaryDump\fR uses
fixed-point arithmetic, so the actual sampling probability may differ
substantially from the requested sampling probability. Use the
\f(CWsampling_prob\fR handler to find out the actual probability. If MULTIPACKET is
true, then the sampling probability applies separately to the multiple packets
generated per record.
.IP "" 8
.IP "FIELDS" 8
String, containing a space-separated list of field names (see
.M ToIPSummaryDump 7
for the possibilities). Defines the default fields for the
dump.
.IP "" 8
.IP "FLOWID" 8
String, containing a space-separated flow ID (source address, source port,
destination address, destination port, and, optionally, protocol). Defines the
IP addresses and ports used by default. Any flow information in the input file
will override this setting.
.IP "" 8
.IP "ALLOW_NONEXISTENT" 8
Boolean.  If true, allow nonexistent and empty files: \fBFromIPSummaryDump\fR will
successfully initialize even if the input file is nonexistent or empty.
Defaults to false.
.IP "" 8
.IP "DATA" 8
String. If set, \fBFromIPSummaryDump\fR reads from the DATA string, rather than
from a file.
.IP "" 8
.PP
Only available in user-level processes.
.PP
.SH "NOTES"
Packets generated by \fBFromIPSummaryDump\fR always have IP version 4 and a correct
IP header length. The default IP protocol is TCP (6) and the default
time-to-live is 100. The rest of the packet data is zero or garbage, unless
set by the dump. Generated packets will usually have short lengths, but the
extra header length annotations are set correctly.
.PP
\fBFromIPSummaryDump\fR is a notifier signal, active when the element is active and
the dump contains more packets.
.PP

.SH "ELEMENT HANDLERS"



.IP "\fBsampling_prob\fR (read-only)" 5
Returns the sampling probability (see the SAMPLE keyword argument).
.IP "" 5
.IP "\fBactive\fR (read/write)" 5
Value is a Boolean.
.IP "" 5
.IP "\fBencap\fR (read-only)" 5
Returns 'IP'. Useful for ToDump's USE_ENCAP_FROM option.
.IP "" 5
.IP "\fBfilesize\fR (read-only)" 5
Returns the length of the \fBFromIPSummaryDump\fR file, in bytes, or "-" if that
length cannot be determined.
.IP "" 5
.IP "\fBfilepos\fR (read-only)" 5
Returns \fBFromIPSummaryDump\fR's position in the file, in bytes.
.IP "" 5
.IP "\fBstop\fR (write-only)" 5
When written, sets 'active' to false and stops the driver.
.IP "" 5
.PP

.SH "SEE ALSO"
.M ToIPSummaryDump 7

