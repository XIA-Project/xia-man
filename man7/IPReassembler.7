.\" -*- mode: nroff -*-
.\" Generated by 'click-elem2man' from '../elements/ip/ipreassembler.hh:10'
.de M
.IR "\\$1" "(\\$2)\\$3"
..
.de RM
.RI "\\$1" "\\$2" "(\\$3)\\$4"
..
.TH "IPREASSEMBLER" 7click "12/Oct/2017" "Click"
.SH "NAME"
IPReassembler \- Click element;
Reassembles fragmented IP packets
.SH "SYNOPSIS"
\fBIPReassembler\fR([\fIKEYWORDS\fR])

\fBPorts\fR: 1 input, 1-2 outputs
.br
\fBProcessing\fR: agnostic, but output 1 is push
.br
.SH "DESCRIPTION"
Expects IP packets as input to port 0. If input packets are fragments,
\fBIPReassembler\fR holds them until it has enough fragments to recreate a complete
packet. When a complete packet is constructed, it is emitted onto output 0. If
a set of fragments making a single packet is incomplete and dormant for 30
seconds, the fragments are generally dropped. If \fBIPReassembler\fR has two
outputs, however, a single packet containing all the received fragments at
their proper offsets is pushed onto output 1.
.PP
\fBIPReassembler\fR's memory usage is bounded. When memory consumption rises above
HIMEM bytes, \fBIPReassembler\fR throws away old fragments until memory consumption
drops below 3/4*HIMEM bytes. Default HIMEM is 256K.
.PP
Output packets have the same MAC header as the fragment that contains
offset 0.  Other than that, input MAC headers are ignored.
.PP
The IPREASSEMBLER annotation area is used to store packet metadata about
packets in the process of reassembly.  On emitted reassembled packets,
this annotation area is set to 0.
.PP
Keyword arguments are:
.PP


.IP "HIMEM" 8
The upper bound for memory consumption, in bytes. Default is 256K.
.IP "" 8
.IP "MAX_MTU_ANNO" 8
Optional. A 2 byte annotation that will be filled with the maximum size of any
one fragment of this packet. If no reassembly is required, then the annotation
is unchanged.
.IP "" 8
.PP

.SH "NOTES"
You may want to attach an \f(CWICMPError(ADDR, timeexceeded, reassembly)\fR to the
second output.
.PP
\fBIPReassembler\fR destroys its input packets' "next packet" annotations.
.PP

.SH "SEE ALSO"
.M IPFragmenter 7

